(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{9653:function(e,t,r){Promise.resolve().then(r.bind(r,1661))},1661:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(7437),s=r(2265),n=r(2869),i=r(6070),c=r(5974),o=r(6831),l=r(2660),d=r(401),u=r(8867),m=r(5805),f=r(8617),x=r(3276),h=r(9376);function g(){var e;let t=(0,h.useRouter)(),r=(0,h.useSearchParams)(),g=r.get("gameId"),v=r.get("code"),[p]=(0,s.useState)(v||"ABC123"),[b,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(null),[w,k]=(0,s.useState)([{id:1,name:"You",isHost:!1,avatar:"Y"}]);(0,s.useEffect)(()=>{if(g&&v){let e=JSON.parse(localStorage.getItem("eduGame_games")||"[]").find(e=>e.id===g);e&&N(e);let t=localStorage.getItem("gameSession_".concat(v));if(t){let e=JSON.parse(t),r={id:Date.now(),name:"You",isHost:!1,avatar:"Y"},a=[...e.players];if(!a.find(e=>"You"===e.name)){a.push(r);let t={...e,players:a};localStorage.setItem("gameSession_".concat(v),JSON.stringify(t))}k(a)}}},[g,v]);let S={name:(null==y?void 0:y.title)||"Math Challenge",mode:"Quiz Race",subject:(null==y?void 0:y.subject)||"Mathematics",timeLimit:"30 seconds",maxPlayers:30},C=async()=>{try{await navigator.clipboard.writeText(p),j(!0),setTimeout(()=>j(!1),2e3)}catch(e){console.error("Failed to copy game code:",e)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>{t.push("/lobby")},children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Leave Game"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(c.C,{variant:"secondary",className:"text-lg px-4 py-2",children:["Game Code: ",p]}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:C,className:"gap-2 bg-transparent",children:[b?(0,a.jsx)(d.Z,{className:"w-4 h-4"}):(0,a.jsx)(u.Z,{className:"w-4 h-4"}),b?"Copied!":"Copy"]})]})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:S.name}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 flex-wrap",children:[(0,a.jsx)(c.C,{variant:"outline",className:"text-sm",children:S.mode}),(0,a.jsx)(c.C,{variant:"outline",className:"text-sm capitalize",children:S.subject}),(0,a.jsxs)(c.C,{variant:"outline",className:"text-sm",children:[S.timeLimit," per question"]}),(0,a.jsxs)(c.C,{variant:"outline",className:"text-sm",children:["Max ",S.maxPlayers," players"]})]})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),"Players (",w.length,"/",S.maxPlayers,")"]})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[w.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card/50",children:[(0,a.jsx)(o.qE,{className:"w-10 h-10",children:(0,a.jsx)(o.Q5,{className:"bg-primary text-primary-foreground",children:e.avatar})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),e.isHost&&(0,a.jsx)(f.Z,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"})]})})]},e.id)),Array.from({length:Math.min(6-w.length,6)}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-dashed bg-muted/30",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 text-muted-foreground"})}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Waiting..."})]},"empty-".concat(t)))]})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Game Status"})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(m.Z,{className:"w-8 h-8 text-primary"})}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Waiting for the host to start the game..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Players joined:"}),(0,a.jsxs)("span",{children:[w.length,"/",S.maxPlayers]})]}),(0,a.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(w.length/S.maxPlayers*100,"%")}})})]})]})]}),(0,a.jsx)(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-6 space-y-4",children:[(null===(e=w.find(e=>"You"===e.name))||void 0===e?void 0:e.isHost)?(0,a.jsxs)(n.z,{onClick:()=>{y&&t.push("/game/".concat(y.id,"?mode=multiplayer&code=").concat(p))},className:"w-full",size:"lg",disabled:w.length<2,children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Start Game"]}):(0,a.jsxs)(n.z,{className:"w-full",size:"lg",disabled:!0,children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Waiting for Host"]}),(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:w.length<2?"Need at least 2 players to start":"Ready to start the game!"})]})}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-sm",children:"Share Game Code"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"text-3xl font-mono font-bold tracking-widest text-primary",children:p}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Share this code with players to join"})]})})]})]})]})]})})]})}},6831:function(e,t,r){"use strict";r.d(t,{Q5:function(){return c},qE:function(){return i}});var a=r(7437);r(2265);var s=r(4930),n=r(4508);function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(s.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var a=r(7437);r(2265);var s=r(7053),n=r(535),i=r(4508);let c=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,asChild:n=!1,...o}=e,l=n?s.g7:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(c({variant:r}),t),...o})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var a=r(7437);r(2265);var s=r(7053),n=r(535),i=r(4508);let c=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...l}=e,d=o?s.g7:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(c({variant:r,size:n,className:t})),...l})}},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return n},aY:function(){return l},ll:function(){return c}});var a=r(7437);r(2265);var s=r(4508);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8867:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},8617:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},3276:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},4930:function(e,t,r){"use strict";r.d(t,{NY:function(){return b},fC:function(){return p}});var a=r(2265),s=r(3966),n=r(6606),i=r(1188),c=r(6840),o=r(7437),l="Avatar",[d,u]=(0,s.b)(l),[m,f]=d(l),x=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[n,i]=a.useState("idle");return(0,o.jsx)(m,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,o.jsx)(c.WV.span,{...s,ref:t})})});x.displayName=l;var h="AvatarImage";a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:l=()=>{},...d}=e,u=f(h,r),m=function(e,t){let[r,s]=a.useState("idle");return(0,i.b)(()=>{if(!e){s("error");return}let r=!0,a=new window.Image,n=e=>()=>{r&&s(e)};return s("loading"),a.onload=n("loaded"),a.onerror=n("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(s,d.referrerPolicy),x=(0,n.W)(e=>{l(e),u.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==m&&x(m)},[m,x]),"loaded"===m?(0,o.jsx)(c.WV.img,{...d,ref:t,src:s}):null}).displayName=h;var g="AvatarFallback",v=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...n}=e,i=f(g,r),[l,d]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),l&&"loaded"!==i.imageLoadingStatus?(0,o.jsx)(c.WV.span,{...n,ref:t}):null});v.displayName=g;var p=x,b=v},3966:function(e,t,r){"use strict";r.d(t,{b:function(){return i},k:function(){return n}});var a=r(2265),s=r(7437);function n(e,t){let r=a.createContext(t),n=e=>{let{children:t,...n}=e,i=a.useMemo(()=>n,Object.values(n));return(0,s.jsx)(r.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(s){let n=a.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function i(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(t,n){let i=a.createContext(n),c=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,l=r?.[e]?.[c]||i,d=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(l.Provider,{value:d,children:n})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[c]||i,l=a.useContext(o);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...t)]}},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return c},jH:function(){return o}});var a=r(2265),s=r(4887),n=r(7053),i=r(7437),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...s}=e,c=a?n.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(c,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},6606:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var a=r(2265);function s(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}},1188:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var a=r(2265),s=globalThis?.document?a.useLayoutEffect:()=>{}}},function(e){e.O(0,[203,971,117,744],function(){return e(e.s=9653)}),_N_E=e.O()}]);